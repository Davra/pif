
<html>
	<head>
		<link href="/ui/vendors/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<link href="/ui/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
		<link href="/ui/vendors/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet">
		<link href="/ui/vendors/amcharts/amcharts/plugins/export/export.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/ui/vendors/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" type="text/css" media="all" />
		<link href="/ui/assets/bootstrap-gentelella-theme-for-widgets.css" rel="stylesheet">
        <link href="/ui/css/custom.min.css" rel="stylesheet" />
        <link href="/ui/css/davra.css" rel="stylesheet" />
		<style>
			.sample-data-msg {
				display: none;
			}
			.tile_count {
				margin-top: 5px;
				margin-bottom: 5px;
				margin-right: -20px;
			}
			.tile_count .tile_stats_count .count {
				line-height: 27px;
				font-size: 20px;
			}
			.kpi {
				display:inline-block;
				width: 40%;
				text-align: center;
				background-color: #eee;
				padding-top: 15px;
				padding-bottom: 15px;
				margin-bottom: 15px;
				margin-left: 25px;
				border-radius: 6px;
			}
			.amcharts-export-menu.amcharts-export-menu-top-right.amExportButton {
				top: 60px;
			}
		</style>
	</head>
	
	<body style="background: #FFFFFF">
	
		<div id="widgetContent" class="row form-horizontal form-label-left" style="width: 98%">
		  	<div class="row tile_count">
				<div class="tile_stats_count">
					<div class="kpi">
						<!-- <span class="count_top"><i class="fa fa-user"></i> Total Users</span> -->
						<span class="count_top"></i>AQI Current</span>
						<div class="count green">8.6</div>
						<span class="count_bottom"><i class="red"><i class="fas fa-sort-down"></i>1% </i>HoH</span>
					</div>
					<div class="kpi">
						<!-- <span class="count_top"><i class="fa fa-user"></i> Total Users</span> -->
						<span class="count_top"></i>AQI Average</span>
						<div class="count green">8.3</div>
						<span class="count_bottom"><i class="green"><i class="fas fa-sort-up"></i>5% </i>MoM</span>
					</div>
				</div>
			</div>
		</div>
        <div id="chartdiv" style="width: 1px; height: 1px; max-height: 200px;"></div>

        <script src="/ui/vendors/amcharts/amcharts/amcharts.js"></script>  
        <script src="/ui/vendors/amcharts/amcharts/serial.js"></script>
        <script src="/ui/vendors/amcharts/amcharts/plugins/export/export.min.js"></script>
        <script src="/ui/vendors/underscore/underscore-min.js"></script>
        <!-- <script src="/ui/vendors/jquery/3.2.1/jquery.min.js"></script> -->
		<script src="/ui/vendors/jquery/2.2.4/jquery.min.js"></script>
        <script src="/ui/assets/templates/amcharts-connecthing-theme.js"></script>
        <script src="/ui/assets/templates/amcharts-connecthing-widgets.js"></script>
		<script src="/ui/vendors/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="/ui/vendors/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
		<script src="/ui/vendors/fastclick/lib/fastclick.js"></script>
		<script src="/ui/vendors/nprogress/nprogress.js"></script>
		<script src="/ui/vendors/raphael/raphael.min.js"></script>
		<script src="/ui/vendors/morris.js/morris.min.js"></script>
		<script src="/ui/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
		<script src="/ui/vendors/moment/min/moment.min.js"></script>
		<script src="/ui/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
		<script src="/ui/assets/bootstrap-gentelella-theme-for-widgets.js"></script>
		<script src="/ui/assets/widget-utilities.js"></script>
        <script>
			var data = []
			var now = new Date()
			var d = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 30)
			for (var i = 0, n = 30; i < n; i++) {
				var aqi = 8 + ((Math.random() * 20) / 10)
				// console.log(d.getDate() + '/' + (d.getMonth() + 1), aqi)
				data.push({ date: d.getDate() + '/' + (d.getMonth() + 1), aqi: aqi })
				d.setDate(d.getDate() + 1)
			}
			var balloonFunction = function(item, graph) {
				var result = ''
				var key = graph.balloonText
				if (item.dataContext.hasOwnProperty(key) && !isNaN(item.dataContext[key])) {
					// console.log(item.dataContext[key], chart.precision)
					var formatted = AmCharts.formatNumber(item.dataContext[key], {
						precision: chart.precision,
						decimalSeparator: chart.decimalSeparator,
						thousandsSeparator: chart.thousandsSeparator
					}, 1)
					result = formatted
				}
				return result + ' AQI'
			};
            var connecthingChartConfig = {
                "theme": "connecthing",
                "type": "serial",
                "categoryField": "date",
				"precision": 1,
                "categoryAxis": {
                    "parseDates": false,
                    "dashLength": 1,
                    "minorGridEnabled": true,
                    "minPeriod": "ss"
                },
                "graphs": [
					{
						"valueField": "aqi",
						"type": "line",
						"bullet": "round",
						"title": "AQI",
						"balloonText": "aqi",
						"balloonFunction": balloonFunction
					}
				],
                "chartScrollbar": {
                    "autoGridCount": true,
                    "scrollbarHeight": 40,
                    "oppositeAxis": false,
                    "offset": 30
                },
                "chartCursor": {
                    "cursorPosition": "mouse",
                    "categoryBalloonEnabled": false
                },
                "valueAxes": [
                    {
                    //   "title": "AQI",
						"precision": 1,
					  	"minimum": 0,
					  	"maximum": 10
                    }
                ],
				"guides": [
					{
						"fillColor": "red",
						"fillAlpha": 0.90,
						"value": 3,
						"toValue": 3
					}
				],
				// "legend": {
                //     "position": "bottom"
                // },
                "export": {
                    "enabled": true
                },
                dataProvider: data
			}
    	</script>
	</body>
</html>